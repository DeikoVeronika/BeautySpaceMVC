@{
    ViewData["Title"] = "Про нас";
}

<div class="categoryChart">
    <div id="CategoryChart"></div>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>


    <script>
        google.charts.load('current', { 'packages': ['corechart'] });
        google.charts.setOnLoadCallback(drawChart);

        function drawChart() {
            $.get('/api/Charts/JsonData')
                .done(function (JsonData) {
                    var data = google.visualization.arrayToDataTable(JsonData, false);
                    var options = {
                        title: "Співвідношення між категоріями та кількістю послуг",
                        width: 500,
                        height: 400
                    };
                    var chart = new google.visualization.PieChart(document.getElementById('CategoryChart'));
                    chart.draw(data, options);
                })
                .fail(function (error) {
                    console.error('Error loading data:', error);
                });
        }
    </script>




}